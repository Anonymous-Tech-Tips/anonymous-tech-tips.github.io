import{j as e}from"./ui-vendor-GZI0U5l0.js";import{g as s,u as a,r as t}from"./react-vendor-BKaTb5lP.js";import{c as l,q as i,u as r,b as c,g as o,B as n,i as d,j as m,l as x,n as h,v as g,k as u,a as p,W as b,f as j}from"./index-C005iJVD.js";import{S as v,c as f}from"./SEO-D5z0VL4Z.js";import{o as w}from"./openGameSandbox-CFLoAqXU.js";import{S as N,B as y}from"./GoogleAd-BDuMcid8.js";import{T as k}from"./textarea-D9fiUuln.js";import{A as S}from"./arrow-left-C65gDw-7.js";import{H as C}from"./heart-D4Gf_xvk.js";import{S as $}from"./share-2-DpthBuuw.js";import"./firebase-vendor-CXS5m7j7.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=l("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),A=l("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function G(){const{id:l}=s(),G=a(),{isAuthenticated:P}=i(),{prefs:z,toggleFavorite:T,pushHistory:q}=r(),{trackGamePlay:H,purchases:L}=c(),M=L.includes("game-notes"),B=L.includes("auto-save-progress"),I=L.includes("offline-mode-plus"),R=L.includes("premium-games-pack")||L.includes("vip-status"),F=L.includes("early-access")||L.includes("vip-status"),O=L.includes("exclusive-games-pack")||L.includes("vip-status"),[V,W]=t.useState(""),_=o.find(e=>e.id===l),D=(null==_?void 0:_.premium)&&!R,J=(null==_?void 0:_.earlyAccess)&&!F,K=(null==_?void 0:_.tags.includes("exclusive"))&&!O,U=D||J||K;t.useEffect(()=>{if(_&&M){const e=localStorage.getItem(`notes_${_.id}`);e&&W(e)}},[_,M]);if(!_)return e.jsx("div",{className:"p-8 text-center",children:"Game not found"});const Q=z.favorites.includes(_.id),X=function(e,s,a=6){const t=new Set((s.tags??[]).map(e=>e.toLowerCase()));return e.filter(e=>e.id!==s.id).map(e=>({x:e,score:(e.tags??[]).reduce((e,s)=>e+(t.has(s.toLowerCase())?1:0),0)})).sort((e,s)=>s.score-e.score||e.x.title.localeCompare(s.x.title)).slice(0,a).map(e=>e.x)}(o,_,6),Y=P,Z=Y?"bg-[#121217] text-white min-h-screen":"bg-slate-50 text-slate-900 min-h-screen";return e.jsxs("div",{className:Z,children:[e.jsx(v,{title:`${_.title} — Tech Tips`,description:`${_.title} - Play this ${_.tags.join(", ")} game for free!`,canonical:f(`/games/${_.id}`),ogImage:_.thumbnail,gameData:{name:_.title,genre:_.tags||[],url:f(`/games/${_.id}`),image:_.thumbnail}}),e.jsx("div",{className:"sticky top-0 z-40 bg-[#121217]/90 backdrop-blur-md border-b border-white/5 px-6 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(n,{variant:"ghost",onClick:()=>G(-1),className:"text-white hover:bg-white/10",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(d,{className:"lg:col-span-2 "+(Y?"bg-[#1E1E24] border-[#2a2a3a]":"bg-white border-slate-200"),children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center justify-between",children:[e.jsx("span",{className:Y?"text-white":"text-slate-900",children:_.title}),e.jsx("button",{onClick:()=>T(_.id),"aria-label":"favorite",className:Y?"text-white hover:text-red-400":"text-slate-600 hover:text-red-500",children:e.jsx(C,{className:"h-5 w-5 "+(Q?"fill-current text-red-500":"")})})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:_.thumbnail,alt:_.title,className:"rounded-lg mb-4 max-h-64 object-cover w-full"}),e.jsxs("p",{className:Y?"text-slate-300 mb-4":"text-slate-600 mb-4",children:["Play ",_.title," - A ",_.tags.join(", ")," game. Test your skills and have fun!"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{onClick:()=>{if(U)return j.error("This game requires an unlock from the Shop!",{description:D?"Requires Premium Games Pack":"Requires Early Access or Exclusive Pack"}),void G("/shop");q(_.id,"game"),P&&H(_.id,_.title),w(_.url)},disabled:U&&!1,className:`font-semibold ${Y?"bg-orange-600 hover:bg-orange-700 text-white shadow-lg":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg"} ${U?"opacity-90 grayscale":""}`,children:U?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"})," Unlock to Play"]}):"Play Now"}),e.jsxs(n,{variant:"outline",onClick:async()=>{const e=f(`/games/${_.id}`);navigator.share?await navigator.share({title:_.title,url:e}):(await navigator.clipboard.writeText(e),alert("Link copied"))},className:"font-semibold border-2 "+(Y?"border-slate-500 bg-slate-800 text-white hover:bg-slate-700 hover:text-white":"border-slate-400 bg-white text-slate-700 hover:bg-slate-100 hover:text-slate-900"),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium "+(Y?"text-white":"text-slate-900"),children:"Share"})]})]})]})})]}),M&&e.jsxs(d,{className:Y?"bg-[#1E1E24] border-[#2a2a3a]":"bg-white border-slate-200",children:[e.jsx(m,{className:"pb-3",children:e.jsxs(x,{className:"text-lg flex items-center gap-2 "+(Y?"text-white":"text-slate-900"),children:[e.jsx(u,{className:"h-5 w-5 text-orange-500"}),"Game Notes"]})}),e.jsxs(h,{children:[e.jsx(k,{placeholder:"Write down strategies, cheats, or reminders...",value:V,onChange:e=>W(e.target.value),className:"min-h-[100px] mb-2 "+(Y?"bg-black/20 border-white/10 text-white placeholder:text-white/30":"bg-slate-50 border-slate-200")}),e.jsxs(n,{size:"sm",onClick:()=>{_&&(localStorage.setItem(`notes_${_.id}`,V),j.success("Notes saved successfully!"))},className:"w-full bg-slate-800 hover:bg-slate-700 text-white",children:[e.jsx(A,{className:"h-4 w-4 mr-2"})," Save Notes"]})]})]}),(B||I)&&e.jsxs("div",{className:"flex gap-4",children:[B&&e.jsxs(p,{variant:"outline",className:"px-3 py-1.5 flex items-center gap-2 border-green-500/50 text-green-500 bg-green-500/10",children:[e.jsx(E,{size:14})," Auto-Save Active"]}),I&&e.jsxs(p,{variant:"outline",className:"px-3 py-1.5 flex items-center gap-2 border-blue-500/50 text-blue-500 bg-blue-500/10",children:[e.jsx(b,{size:14})," Offline Ready"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:Y?"bg-[#1E1E24] border-[#2a2a3a]":"bg-white border-slate-200",children:[e.jsx(m,{children:e.jsx(x,{className:Y?"text-white":"text-slate-900",children:"Similar Games"})}),e.jsx(h,{className:"space-y-2",children:X.map(s=>{var a;return e.jsxs("button",{onClick:()=>G(`/games/${s.id}`),className:"w-full text-left p-3 rounded-lg transition-colors "+(Y?"hover:bg-white/10 text-slate-300":"hover:bg-slate-50 text-slate-600"),children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-sm opacity-70",children:null==(a=s.tags)?void 0:a.slice(0,3).join(" • ")})]},s.id)})})]}),e.jsx(N,{})]})]})}),e.jsx(y,{})]})}export{G as default};
